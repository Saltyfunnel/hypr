# ---------------------------------------------------------
# YAZI CONFIG - REPO VERSION (2026)
# ---------------------------------------------------------

[manager]
ratio          = [ 1, 3, 4 ]
sort_by        = "natural"
sort_sensitive = false
sort_dir_first = true
linemode       = "permissions"
show_hidden    = true
show_symlink   = true

[preview]
max_width       = 1500
max_height      = 1500
image_filter    = "lanczos3"
image_quality   = 90
sixel_fraction  = 15

[preview.image]
enable = true
backend = "kitty"

[preview.video]
enable = true
backend = "ffmpeg"

[preview.pdf]
enable = true
backend = "pdftoppm"

# ----------------------------
# OPENERS
# ----------------------------

[opener]
edit = [
  { run = '${EDITOR:-nano} "$@"', block = true, desc = "Edit" }
]
image = [
  { run = 'imv "$@"', orphan = true, desc = "imv" }
  ]
play = [
  { run = 'mpv "$@"', orphan = true, desc = "mpv" }
]

[open]
rules = [
  { name = "*/", use = [ "edit" ] },
  { mime = "text/*", use = [ "edit" ] },
  { mime = "image/*", use = [ "image" ] },
  { mime = "video/*", use = [ "play" ] },
  { mime = "application/pdf", use = [ "play" ] }
]

# ----------------------------
# PLUGINS & PREVIEWERS
# ----------------------------

[plugin]
fetchers = [
  { id = "mime", name = "*", run = "mime", prio = "high" }
]

preloaders = [
  { mime = "image/*", run = "image" },
  { mime = "video/*", run = "video" },
  { mime = "application/pdf", run = "pdf" }
]

previewers = [
  { name = "*/", run = "folder", sync = true },
  { mime = "text/*", run = "code" },
  { mime = "image/*", run = "image" },
  { mime = "video/*", run = "video" },
  { mime = "application/pdf", run = "pdf" },
  { name = "*", run = "file" }
]

[input]
cursor_blink = true

[confirm]
trash_title  = "Move {n} files to trash?"
delete_title = "PERMANENTLY DELETE {n} FILES?"
